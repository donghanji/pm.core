/*
   pm.build.js ,version 1.2.1 ,updated on 2016-03-07
   module for Plugins Modules library.

   https://github.com/donghanji/pm
 */

describe("pm",function(){module.declare(["pm"],function(a){var b=a("pm");it("pm should defined",function(){console.log(b),expect(b).toBeDefined()}),it("pm's version,is:"+b.version,function(){expect(b.version).toMatch(/^\d+\.\d+\.\d+$/)}),describe("pm.ns method",function(){it("pm.namespace alias pm.ns",function(){expect(b.namespace).toBe(b.ns)});var a=function(){};beforeEach(function(){b.ns("test"),b.test=a,b.ns("pm.test.one"),b.test.one={}}),it("define pm.test namespace",function(){console.log(b.ns("test")),expect(b.ns("test")).toBe(a)}),it("define pm.test.one={}",function(){expect(b.ns("test.one")).toEqual({})})}),describe("pm.utils object",function(){var a=b.utils;it("pm.utils is defined",function(){expect(a).toBeDefined()}),it("pm.utils type,pm.utils.is*",function(){var b="string",c=2,d=2.3,e=!0,f=!1,g=function(){},h={},i=[],j={obj:"obj"};expect(a.type(b)).toBe("string"),expect(a.type(c)).toBe("number"),expect(a.type(d)).toBe("number"),expect(a.type(e)).toBe("boolean"),expect(a.type(f)).toBe("boolean"),expect(a.type(g)).toBe("function"),expect(a.type(h)).toBe("object"),expect(a.type(i)).toBe("array"),expect(a.isNumberic(c)).toBe(!0),expect(a.isNumberic(d)).toBe(!0),expect(a.isNumberic(b)).toBe(!1),expect(a.isString(b)).toBe(!0),expect(a.isFunction(g)).toBe(!0),expect(a.isObject(h)).toBe(!0),expect(a.isObject(i)).toBe(!0),expect(a.isObject(g)).toBe(!0),expect(a.isArray(i)).toBe(!0),expect(a.has(j,"obj")).toBeTruthy(),expect(a.has(j,"no")).toBeFalsy()}),it("pm.utils.each",function(){var b=[0,1,2],c={1:"1",2:"2",3:"3"};a.each(b,function(a,c){expect(a).toEqual(b[c])}),a.each(c,function(a,b){expect(a).toEqual(c[b])})}),it("pm.utils.map",function(){var b=[1,2,3],c=a.map(b,function(a){return 3*a}),d=a.map(b,function(a,b){return 3*a});expect(c).toEqual([3,6,9]),expect(d).toEqual([3,6,9])}),it("pm.utils.keys",function(){var b={1:"1",2:"2",3:"3"},c=a.keys(b);expect(c).toEqual(["1","2","3"])}),it("pm.utils.values",function(){var b={1:"1",2:"2",3:"3"},c=a.values(b);expect(c).toEqual(["1","2","3"])}),it("pm.utils.uid",function(){var b=a.uid(),c=a.uid();expect(b).not.toEqual(c)}),it("pm.utils.result",function(){var b={r1:"r1",r2:function(){return"result2"}},c=a.result(b,"r1"),d=a.result(b,"r2");expect(c).toBe("r1"),expect(d).toBe("result2"),expect(d).not.toBe("r2")}),it("pm.utils.identity",function(){var b="result",c=a.identity(b);expect(b).toBe(c)}),it("pm.utils.some/any",function(){expect(a.some).toBe(a.any);var b=[1,2,3,4,5],c=a.some(b,function(a,b,c){return 1===a}),d=a.some(b,function(a,b,c){return 6===a});expect(c).toBe(!0),expect(d).toBe(!1);var e={1:1,2:2},f=a.some(e,function(a,b,c){return 1===a}),g=a.some(e,function(a,b,c){return 6===a});expect(f).toBe(!0),expect(g).toBe(!1)}),it("pm.utils.contains",function(){var b=[1,2,3,4,5],c=a.contains(b,4),d=a.contains(b,6);expect(c).toBe(!0),expect(d).toBe(!1);var e=function(){},f={1:"1",2:{2.1:"2.1"},3:[1,2],4:function(){},5:e},g=a.contains(f,"1"),h=a.contains(f,"2"),i=a.contains(f,{2.1:"2.1"}),j=a.contains(f,[1,2]),k=a.contains(f,function(){}),l=a.contains(f,e);expect(g).toBe(!0),expect(h).toBe(!1),expect(i).toBe(!1),expect(j).toBe(!1),expect(k).toBe(!1),expect(l).toBe(!0)}),it("pm.utils.extend",function(){var b={1:"1",2:"2",3:"3"},c=a.extend(b);expect(c).toEqual(b)}),it("pm.utils.pick",function(){var b=["0","1","2"],c={1:"1",2:"2",3:"3"},d=a.pick(c,b),e=a.pick({name:"moe",age:50,userid:"moe1"},"name","age"),f=a.pick({name:"moe",age:50,userid:"moe1"},function(b,c,d){return a.isNumber(b)});expect(d).toEqual({1:"1",2:"2"}),expect(e).toEqual({name:"moe",age:50}),expect(f).toEqual({age:50})}),it("pm.utils.omit",function(){var b=["0","1","2"],c={1:"1",2:"2",3:"3"},d={1:"x",2:"y",3:"z"},e=a.omit(c,b),f=a.omit(d,b),g=a.omit(d,function(a,b,c){return"2"===b});expect(e).toEqual({3:"3"}),expect(f).toEqual({3:"z"}),expect(g).toEqual({1:"x",3:"z"})}),it("pm.utils.difference",function(){var b=[1,2,3,5,6,9],c=[1,2,3,4,5,7,8,9],d=a.difference(b,c);expect(d).toEqual([6])}),it("pm.utils.filter",function(){var b=[1,2,3,4,5],c={1:"1",2:"2",3:"3"},d=a.filter(b,function(a,b,c){return a>=3?!0:void 0}),e=a.filter(c,function(b,c,d){return!a.contains(["1","3"],c)});expect(d).toEqual([3,4,5]),expect(e).toEqual(["2"])}),it("pm.utils.isEmpty",function(){var b={},c={t:""},d="",e="t",f=[],g=[1];expect(a.isEmpty(b)).toBeTruthy(),expect(a.isEmpty(d)).toBeTruthy(),expect(a.isEmpty(f)).toBeTruthy(),expect(a.isEmpty(c)).toBeFalsy(),expect(a.isEmpty(e)).toBeFalsy(),expect(a.isEmpty(g)).toBeFalsy()}),it("pm.utils.toBoolean",function(){var b={},c={t:""},d="",e="t",f=[],g=[1],h=!0,i=!1,j=null,k=void 0;expect(a.toBoolean(b)).toBe(!1),expect(a.toBoolean(c)).toBe(!0),expect(a.toBoolean(d)).toBe(!1),expect(a.toBoolean(e)).toBe(!0),expect(a.toBoolean(f)).toBe(!1),expect(a.toBoolean(g)).toBe(!0),expect(a.toBoolean(h)).toBe(!0),expect(a.toBoolean(i)).toBe(!1),expect(a.toBoolean(j)).toBe(!1),expect(a.toBoolean(k)).toBe(!1)}),it("pm.utils.isEqual",function(){expect(a.isEqual(1,1)).toBe(!0),expect(a.isEqual(1,"1")).toBe(!1),expect(a.isEqual(1,1)).toBe(!0),expect(a.isEqual("1","1")).toBe(!0),expect(a.isEqual("1","2")).toBe(!1),expect(a.isEqual(!0,!0)).toBe(!0),expect(a.isEqual(!0,!1)).toBe(!1);var b=/\d/;expect(a.isEqual(/\d/,/\d/)).toBe(!1),expect(a.isEqual(b,b)).toBe(!0);var c=function(){},d=function(){};expect(a.isEqual(c,c)).toBe(!0),expect(a.isEqual(c,d)).toBe(!1);var e={1:"2",2:{2:"2"}},f={1:"2",2:{2:"3"}};expect(a.isEqual({},{})).toBe(!1),expect(a.isEqual(e,e)).toBe(!0),expect(a.isEqual(e,f)).toBe(!1)})})})});