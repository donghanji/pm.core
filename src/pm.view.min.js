/*
   pm.build.js ,version 1.2.1 ,updated on 2016-03-07
   module for Plugins Modules library.

   https://github.com/donghanji/pm
 */

!function(){var a=module.globals("$");module.declare("pm.view",[a,"pm","pm.dataset"],function(b,c){var d=b(a),e=b("pm"),f=e.utils,g=e.ns("dataset"),h=/^(\S+)\s*(.*)$/,i=["_stopListening","_setElement","_ensureElement","_delegateEvents","_undelegateEvents"],j=g.DefaultOptions||[];i=i.concat(j);var k=e.extend(g,{constructor:function(a){var b=this;b.cid=f.uid("view"),a=a||{},a.el=a.el||"body",f.extend(b,f.omit(a,i)),b._ensureElement(),b.initialize.apply(b,arguments),b._delegateEvents()},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},_setElement:function(a,b){return this.$el&&this._undelegateEvents(),this.$el=d(a),this.el=this.$el[0],b!==!1&&this._delegateEvents(),this},_undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_delegateEvents:function(a){if(!a&&!(a=f.result(this,"events")))return this;this._undelegateEvents();for(var b in a){var c=a[b];if(f.isFunction(c)||(c=this[a[b]]),c){var d=b.match(h),e=d[1],g=d[2];c=f.bind(c,this),e+=".delegateEvents"+this.cid,""===g?this.$el.on(e,c):this.$el.on(e,g,c)}}return this},_ensureElement:function(){return this._setElement(f.result(this,"el"),!1),this}});return k.create=function(a){return new k(a)},e.ns("view"),e.view=k,k})}();